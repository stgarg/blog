/* Base + Dark Mode via CSS variables */
:root {
  color-scheme: light dark;
  --bg: #fafafa;
  --bg-alt: #ffffff;
  --fg: #222;
  --fg-muted: #555;
  --border: #e5e5e5;
  --link: #0645ad;
  --link-visited: #0b3d91;
  --code-bg: #eee;
  --pre-bg: #f0f0f0;
  --shadow: 0 0 0 rgba(0,0,0,0);
}

[data-theme='dark'] {
  --bg: #121212;
  --bg-alt: #1e1e1e;
  --fg: #e4e4e4;
  --fg-muted: #9a9a9a;
  --border: #2a2a2a;
  --link: #4d8dff;
  --link-visited: #a4c3ff;
  --code-bg: #1f1f1f;
  --pre-bg: #1f1f1f;
  --shadow: 0 2px 4px rgba(0,0,0,.4);
}

body {
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  margin: 0;
  padding: 0;
  line-height: 1.55;
  background: var(--bg);
  color: var(--fg);
  -webkit-font-smoothing: antialiased;
}

main.content { max-width: 760px; margin: 2.5rem auto 4rem; padding: 0 1.25rem; }
h1,h2,h3,h4 { line-height:1.25; font-weight:600; }
a { color: var(--link); }
a:visited { color: var(--link-visited); }
a:hover { text-decoration:underline; }
blockquote { margin:1rem 0; padding:0 .75rem; border-left:4px solid var(--border); color: var(--fg-muted); }
code, pre { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
pre { background: var(--pre-bg); padding:.75rem 1rem; overflow:auto; border-radius:4px; }
code { background: var(--code-bg); padding:2px 4px; border-radius:3px; }
hr { border:0; border-top:1px solid var(--border); margin:2.5rem 0; }
img { max-width:100%; height:auto; }
footer { margin-top:3rem; font-size:.85rem; color: var(--fg-muted); }

/* Sidebar Layout */
.layout { display:flex; }
.sidebar { position:fixed; inset:0 auto 0 0; width:220px; background: var(--bg-alt); border-right:1px solid var(--border); padding:1.1rem .95rem 2.5rem; box-sizing:border-box; overflow-y:auto; font-size:.92rem; }
.sidebar a { text-decoration:none; color: var(--fg); }
.sidebar a:hover { text-decoration:underline; }
.sidebar a.active { font-weight:600; }
.site-title { font-weight:600; font-size:1.05rem; margin-bottom:.25rem; }
.site-title a { color: var(--fg); }
.site-tagline { color: var(--fg-muted); font-size:.75rem; line-height:1.2; margin-bottom:1rem; }
.nav-section { list-style:none; padding:0; margin:1.1rem 0 0; }
.nav-section:first-of-type { margin-top:.25rem; }
.nav-section .nav-heading { text-transform:uppercase; letter-spacing:.5px; font-size:.65rem; color: var(--fg-muted); margin:.5rem 0 .35rem; }
.nav-section li { margin:.2rem 0; }
.sidebar-footer { margin-top:2rem; font-size:.7rem; color: var(--fg-muted); }

.content-wrapper { margin-left:220px; max-width:760px; padding:2.2rem 2.5rem 4rem; box-sizing:border-box; }

@media (max-width: 780px) {
  .sidebar { position:static; width:auto; border-right:0; border-bottom:1px solid var(--border); display:flex; flex-wrap:wrap; align-items:baseline; }
  .nav-section { display:flex; flex-wrap:wrap; margin:0 .75rem .5rem 0; }
  .nav-section .nav-heading { width:100%; }
  .content-wrapper { margin-left:0; padding:1.5rem 1rem 3rem; }
}

/* Post tweaks */
.post-title { margin-top:0; }
.post-meta { color: var(--fg-muted); font-size:.8rem; margin-top:-.25rem; }
.post-list { list-style:none; padding:0; }
.post-list li { margin:.4rem 0; }
.post-list .date { color: var(--fg-muted); font-size:.7rem; margin-left:.4rem; }

/* Theme toggle */
.theme-toggle-wrapper { position:sticky; top:0; display:flex; justify-content:flex-end; }
#theme-toggle { cursor:pointer; border:1px solid var(--border); background:var(--bg-alt); color:var(--fg); font-size:.75rem; line-height:1; padding:.35rem .55rem; border-radius:6px; box-shadow: var(--shadow); }
#theme-toggle:hover { background: var(--bg); }
#theme-toggle:focus { outline:2px solid var(--link); outline-offset:2px; }
